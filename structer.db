CREATE TABLE user (
  user_id mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
  disp_name varchar(48) NOT NULL,
  username varchar(32) NOT NULL,
  email varchar(64) NOT NULL,
  password char(64) NOT NULL,
  registration_date date NOT NULL,
  PRIMARY KEY (user_id),
  UNIQUE KEY username (username),
  UNIQUE KEY email (email),
  KEY registration_date (registration_date)
) ENGINE = InnoDB;

CREATE TABLE moderator (
  moderator_id MEDIUMINT(8) UNSIGNED NOT NULL AUTO_INCREMENT,
  user_id MEDIUMINT(8) UNSIGNED NOT NULL,
  role enum('ROOT','ADMIN','MOD') NOT NULL,
  PRIMARY KEY (moderator_id),
  CONSTRAINT fk_user_id
  FOREIGN KEY (user_id) REFERENCES user (user_id)
  ON DELETE CASCADE
  ON UPDATE CASCADE
) ENGINE = InnoDB;
